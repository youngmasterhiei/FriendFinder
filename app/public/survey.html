<!DOCTYPE html>
<html>

<head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
                crossorigin="anonymous">
        <!-- <link rel="stylesheet" type="text/css" href="assets/style.css"> -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
</head>

<body>

        <form>
                <div class="form-group ">
                        <label for="exampleInputEmail1">Name</label>
                        <input type="text" class="form-control valid" id="userName" aria-describedby="emailHelp" placeholder="Enter Name">
                        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
                </div>
                <div class="form-group ">
                        <label for="photoUrl">Link to Photo Image</label>
                        <input type="url" class="form-control valid" id="userLink" placeholder="Enter Link to Photo">
                </div>

                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen valid" id = "q1"style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>

                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen valid" id = "q2" style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>
                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen valid" id = "q3"style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>

                <!-- <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen" id = "q4" style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>
                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen" id = "q5"style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>

                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen" id = "q6" style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>
                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen" id = "q7"style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>

                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen" id = "q8" style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>
                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen" id = "q9"style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select>

                <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
                <select class="chosen" id = "q10" style="width:200px;">
                        <option selected="selected">Choose...</option>
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5 (Strongly Agree)</option>

                </select> -->



                <button type="submit" class="submit btn btn-primary">Submit</button>
        </form>




        <!-- <script type="text/javascript" src="friends.js"></script> -->



</body>



</html>

<script type="text/javascript">

        // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
        // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
        // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
        // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file
    var totalScore = 0;

// function addScores(id){
//         for (var i=0; i<10; i++){
//                         $(id + [i]).val() = answer;
//                         answer.push(scoreArray);
//                 };

// };

// var friends = require("../data/friends.js");

    $(".chosen-select").chosen();

var difference=[];


        $(".submit").on("click", function(event) {
          event.preventDefault();
    
      
          
          






          var newFriend = {
                        name: $("#userName").val().trim(),
                        photo: $("#userLink").val().trim(),
                        scores: [
                                $("#q1").val(),
                                $("#q2").val(),
                                $("#q3").val(),
                                //     $("#q4").val(),
                                //     $("#q5").val(),
                                //     $("#q6").val(),
                                //     $("#q7").val(),
                                //     $("#q8").val(),
                                //     $("#q9").val(),
                                //     $("#q10").val(),

                        ]
                };

                console.log(newFriend);
                for (i = 0; i < newFriend.scores.length; i++) {

                        var toNumber = parseInt(newFriend.scores[i]);
                        totalScore += toNumber;
                };
                console.log(totalScore);
                newFriend.totalScore = totalScore;
                // This line is the magic. It"s very similar to the standard ajax function we used.
                // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
                // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
                // depending on if a tables is available or not.

                $.post("/api/friends", newFriend, function (data) {

                                // If a table is available... tell user they are booked.
                                if (data) {
                                        alert("Yay! You are have a new friend!");
                                }

                                // If a table is available... tell user they on the waiting list.
                                else {
                                        alert("Sorry you are on the friend wait list");
                                }


                        });




         


                $.get("/api/friends", function (req, res) {
                        console.log(req);
                        for (i=0; i<req.length; i++){
                                console.log(req[i].totalScore);
                                if (req[i].totalScore === newFriend.totalScore){

                                }
                                else if (req[i].totalScore)
                        }
            


                });
    });


    </script>